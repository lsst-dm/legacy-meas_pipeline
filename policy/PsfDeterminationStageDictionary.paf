#<? cfg paf dictionary ?>
#
#
target: lsst.meas.pipeline.PsfDeterminationStage

definitions: {
    #input clipboard keys
    inputKeys: {
        type: "policy"
        dictionary: {
            definitions: {
                exposure: {
                    type: "string"
                    description: "specify clipboard key of input Exposure"
                    minOccurs: 1
                    maxOccurs: 1
                    default: "exposure"
                }
                sourceSet: {
                    type: "string"
                    description: "specify clipboard key of input SourceSet"
                    minOccurs: 1
                    maxOccurs: 1
                    default: "sourceSet"
                }
            }
        }
    }

    #output clipboard keys:
    outputKeys: {
        type: "policy"
        dictionary: {
            definitions: {
                psf: {
                    type: "string"
                    description: "specify clipboard key for output PSF"
                    minOccurs: 1
                    maxOccurs: 1
                }
                cellSet: {
                    type: "string"
                    description: "specify the clipboard key for output psfCellSet"
                    minOccurs: 1
                    maxOccurs: 1
                }
                metadata: {
                    type: "string"
                    description: "specify the clipboard key for metadata"
                    minOccurs: 0
                    maxOccurs: 1
                }
            }
        }
    }

    # control the algorithm
    starSelectorName: {
        type: "string"
        description: "Name of algorithm to use for star selection. The starSelectorPolicy must match."
        minOccurs: 1
        maxOccurs: 1
        default: "secondMomentStarSelector"
    }
    psfDeterminerName: {
        type: "string"
        description: "Name of algorithm to use for PSF determination. The psfDeterminerPolicy must match."
        minOccurs: 1
        maxOccurs: 1
        default: "pcaPsfDeterminer"
    }
    starSelectorPolicy: {
        type: "policy"
        description: "Policy file for the star selection algorithm."
        minOccurs: 1
        maxOccurs: 1
        dictionary: @@meas_algorithms:policy/secondMomentStarSelectorDictionary.paf
    }
    psfDeterminerPolicy: {
        type: "policy"
        description: "Policy file for the psf determiner algorithm."
        minOccurs: 1
        maxOccurs: 1
        dictionary: @@meas_algorithms:policy/pcaPsfDeterminerDictionary.paf
    }
}

