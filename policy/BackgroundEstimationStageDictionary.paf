#<?cfg paf dictionary ?>
#
# Dictionary for BackgroundEstimationStage policies
#
target: lsst.meas.pipeline.BackgroundEstimationStage

definitions: {
    #input clipboard keys
    inputKeys: {
        type: "policy"
        dictionary: {
            definitions: {
                exposure: {
                    type: "string"
                    description: "specify the clipboard key of the exposure to detect on."
                    minOccurs: 1
                    maxOccurs: 1
                    default: "calibratedExposure"
                }        
            }
        }
        minOccurs: 1
        maxOccurs: 1
    }
    
    #output clipboard keys:
    outputKeys: {
        type: "policy"
        dictionary: {
            definitions: {
                backgroundSubtractedExposure: {
                    type: "string"
                    description: "specify output clipboard key of the background-subtracted exposure"
                    minOccurs: 0
                    maxOccurs: 1
                    default: "backgroundSubtractedExposure"
                }
                background: {
                    type: "string"
                    description: "output clipboard key for computed background object"
                    minOccurs: 1
                    maxOccurs: 1
                    default: "background"
                }
            }
        }
        maxOccurs: 1
    }
    
    parameters: {
        type: "policy"
        dictionary: {
            definitions: {
                backgroundPolicy: {
                    type: "policy"
                    dictionary: @@meas_utils:policy/BackgroundDictionary.paf
                    description: "Parameters to control background subtraction"
                    minOccurs: 1
                    maxOccurs: 1
                }
                subtractBackground: {
                    type: bool 
                    description: "Subtract the background in situ"
                    minOccurs: 0
                    maxOccurs: 1
                    default: true
                }
            }
        }
    }
}
